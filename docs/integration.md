# Тип задачи:

В зависимости от типа задачи в хранилище должен содержаться разный набор вложений. Ссылка на файлы в хранилище содержится в поле: "Гиперссылка файлы документации" 

возможные варианты значений :
## Типы задач названия 

- Изготовление деталей - Производство
- Печатные платы - Изготовление платы
- Печатные платы - Комплектующие для платы
- Печатные платы - Монтаж
- Печатные платы - Изготовление платы с закупкой и монтажом
- Печатные платы - Внешние разъемы
- Закупка  - По спецификации
- Закупка - Без спецификации
- Изготовление - по ТЗ у подрядчика 
## Типы задач в JSON

```json
"Тип задачи": "Изготовление деталей - производство",
```

```json
"Тип задачи": "Печатные платы - Изготовление платы",
```

```json
"Тип задачи": "Печатные платы - Комплектующие для платы",
```

```json
"Тип задачи": "Печатные платы - Монтаж",
```

```json
"Тип задачи": "Печатные платы - Изготовление платы с закупкой и монтажом",
```

```json
"Тип задачи": "Печатные платы - Внешние разъемы",
```

```json
"Тип задачи": "Закупка  - По спецификации",
```

```json
"Тип задачи": "Закупка - Без спецификации",
```

```json
"Тип задачи": "Изготовление - по ТЗ у подрядчика",
```


## Гиперссылка файлы документации

Гиперссылка на файлы  документации есть URL  - требуется обеспечить "кликабельность" данного URL в интерфейсе 1C c  переходом в браузер.

### Гиперссылка файлы документации в JSON

```json 
"Гиперссылка файлы документации": "https://nextcloud.comitas.ru/index.php/s/NH4Gdcw6HXrLPAm",
```

## Номер тикета

Номер тикета в Redmine становится известен по факту создания самого тикета, его назначает Redmine на основе информации о уже имеющихся. В JSON файле выгружаемом из генератора мы не можем заранее знать его номер. 

### Пример URL Тикета в Redmine 

```url
https://redmine.ga.tech/issues/1623
```

Номер данного тикета **1623**

### Процедура по первичному размещению тикета в 1C

В интерфейсе 1С требуется предусмотреть функционал который позволил бы по номеру тикета или по ссылке на него произвести загрузку JSON файла из вложений к тикету. А также интерфейс (кнопку например ) для повторной загрузки (обновления ) в 1С содержимого заявки. Важно иметь возможность знакомясь с заявкой увидеть кликабельную ссылку такого вида:  
![[Screenshot 2023-12-19 at 17.36.41.png]]

  В JSON файле предусмотрена возможность внесения номера тикета в виде URL, по умолчанию она имеет не определенное значение. 1C должна сама присвоить значение если это требуется и вложить назад файл (если требуется это 1С для дублирования) 

### Номер тикета в JSON
 
Пример
```json 
"Номер тикета": "https://rm.comitas.ru/issues/1623",
```

## Позиции в заявке

### Согласование замен позиций

Представитель закупок должен провести процедуру согласования замены с составителем заявки если таковая требуется через тикет в Redmine. После файл JSON должен быть сгенерирован/создан повторно и содержать согласованный артикул замены. (На первом этапе поле "Артикулы аналогов" будет пустым )

### Позиция в заявке в JSON 

```json
{
	"N": 1,
	"Артикул изготовителя": "PKLCS1212E40A1-R1",
	"Артикулы аналогов": "PKLCS1212E402 / PKLCS121234875",
	"Описание": "Пьезоизлучатель",
	"Изготовитель": "Murata",
	"Контрагент Предполагаемый": "Элитан",
	"Количество": "2",
	"Ед.изм": "шт",
	"Поз. по спецификации": "1",
	"URL": "https://www.elitan.ru/price/item1173529",
	"": "¯\\_(ツ)_/¯"
}
```

Где:
- "N" - порядковый номер позиции (обязательное поле)
- "Артикул изготовителя" - уникальный номер взятый у производителя разработчиком документации на изделие/спецификацию (является не обязательным, имеет прямое отношение к описанию, обязательно должно присутствовать  поле "Описание" или "Артикул изготовителя")
- "Артикулы аналогов" - текстовое поле в котором содержатся артикулы возможных замен разделенные символом  `/` (не обязательное поле)
- "Описание" - Описание артикула изготовителя или иное текстовое поле (является не обязательным, имеет прямое отношение к "Артикул изготовителя", обязательно должно присутствовать  поле "Описание" или "Артикул изготовителя")
- "Изготовитель" - Название кампании изготовителя (не обязательное поле)
- "Контрагент Предполагаемый" - перед размещением детали/компонента/изделия в состав документации разработчик производил поиск этой детали (стандартный процесс подбора при проектрировании принципиальных схем) при этом не всегда удобно публиковать ссылку на каждый элемент в этом случае разработчик оставляет название кампании или сайт где подбирал данные элементы перед проектированием. 
- "Количество" 
- "Ед.изм" - "шт", "м"
- "Поз. по спецификации" - номер позиции в исходной спецификации (не обязательное поле)
- "URL" - WEB-страница на товарное предложение или сайт изготовителя (не обязательное поле)  `*нужна возможность кликнуть и открыть в браузере`
- "Комментарий"  - могут оставлять закупщики / составители заявки / разработчики (не обязательное поле) 


## Пример JSON

```json
{
	"Тип задачи": "Печатные платы - Комплектующие для платы",
	"Гиперссылка файлы": "https://nextcloud.comitas.ru/index.php/s/NH4Gdcw6HXrLPAm",
	"Номер тикета": "https://rm.comitas.ru/issues/1623",
	"Позиции": [
		{
			"N": 2,
			"Артикул изготовителя": "PKLCS1212E40A1-R1",
			"Артикулы аналогов": "PKLCS1212E402 / PKLCS121234875",
			"Описание": "Пьезоизлучатель",
			"Изготовитель": "Murata",
			"Контрагент Предполагаемый": "Элитан",
			"Количество": "2",
			"Ед.изм": "шт",
			"Поз. по спецификации": "1",
			"URL": "https://www.elitan.ru/price/item1173529",
			"Комментарий": "¯\\_(ツ)_/¯"
		},
		{
			"N": 4,
			"Артикул изготовителя": "CC0603DRNPO9BN8R0",
			"Артикулы аналогов": "CC0603DRNPO324324",
			"Описание": "Конденсатор пленочный",
			"Изготовитель": "YAGEO",
			"Контрагент Предполагаемый": "Элитан",
			"Количество": "1",
			"Ед.изм": "шт",
			"Поз. по спецификации": "45",
			"URL": "https://www.elitan.ru/price/item1173529",
			"Комментарий": ""
		},
		{
			"N": 7,
			"Артикул изготовителя": "IRF7205",
			"Артикулы аналогов": "IRF540-123",
			"Описание": "MOSFET Transistor",
			"Изготовитель": "IRF",
			"Контрагент Предполагаемый": "Элитан",
			"Количество": "4",
			"Ед.изм": "шт",
			"Поз. по спецификации": "21",
			"URL": "https://www.elitan.ru/price/item1173434",
			"Комментарий": ""
		},
		{
			"N": 11,
			"Артикул изготовителя": "RL1206FR-070R33L",
			"Артикулы аналогов": "RL1206FR-0702342E",
			"Описание": "0805 Resitor",
			"Изготовитель": "YAGEO",
			"Контрагент Предполагаемый": "Элитан",
			"Количество": "4",
			"Ед.изм": "шт",
			"Поз. по спецификации": "21",
			"URL": "https://www.elitan.ru/price/item1173434",
			"Комментарий": ""
		}
	]
}
```